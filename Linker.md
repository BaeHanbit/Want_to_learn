# Linker

## Define
- 목적파일과 라이브러리 파일들을 실행 가능한 파일로 변환하거나, 라이브러리 파일, 혹은 하나의 목적파일로 변환하는 프로그램을 말한다

## Goal
- 컴파일된 목적 파일들을 하나의 실행가능한 파일로 만들기 위해 사용한다.

## Execute Step
1. 여러개의 소스 파일들을 합친다.
2. 라이브러리(LIB)를 합친다.
3. 실행파일(EXE)를 만든다.

## File(OBJ,LIB,DLL)

## Static linking
- 라이브러리와 목적파일을 링크하여 독립적으로 실행가능한 실행파일을 만드는 것을 Static Linking이라 한다.
- 필요한 함수 코드를 대입하여 실행파일을 만드는 방식이기 때문에, 라이브러리를 수정할 경우 실행 파일을 다시 만들어야 한다.
- 실행 파일의 크기가 상대적으로 커지는 단점이 존재한다.

## Dynamic linking
- 라이브러리와 목적파일을 링크하고 DLL(Dynamic-Link_Library)파일을 참조하여 실행파일을 실행하게끔 실행파일을 만드는 것을 Dynamic linking이라 한다.
- DLL파일로 설정 후 컴파일시 라이브러리파일과 함께 DLL파일이 생성된다.
- 필요한 함수의 주소가 라이브러리 파일에 적혀 있고 프로그램의 실행 후 필요한 함수가 있다면 주소를 참조하여 메모리에 로드된 DLL파일에서 함수를 읽는 방식이다.
- 독립적으로 실행이 불가하지만, 라이브러리를 수정하더라도 DLL파일만 수정하면 된다는 것과 상대적으로 적은 실행파일의 크기라는 장점을 가지고 있다.

### TYPE of Dynamic Linking
1. 묵시적 링킹(Implicit linking)
- 라이브러리 파일을 이용하여 링킹하는 것을 말한다. 이후 생성된 실행 파일에서 DLL의 함수코드를 참조하는 위의 방식이다.

2. 명시적 링킹(Explicit linking)
- DLL의 함수 정보를 필요로 하지 않아 라이브러리 파일이 필요하지 않다.
- 필요한 DLL을 프로세스 가상 메모리에 매핑하여 함수 포인터를 얻어 실행 후 종료시 DLL을 반환하는 방식을 사용한다.
- 프로세서가 내부적으로 DLL의 레퍼런스 카운트를 계산하며 카운트가 0이 될시 DLL이 가상 메모리에서 해제된다.
> Implicit linking은 프로그램이 실행될때 로딩되어 프로그램이 종료될때 해제되지만, Explicit linking은 프로그램 실행 후 원하는 시점에 로딩과 해제가 가능하다는 점이 큰 차이이다.

